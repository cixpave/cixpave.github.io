<!DOCTYPE html>
<html lang="en" class="overscroll-none">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>App</title>

<meta property="og:image" content="/content/New Project (12) (1).png" />
<meta property="og:site_name" content="CW1 Assets" />
<meta property="og:locale" content="en_US" />

<link rel="icon" type="image/x-icon" href="/content/New Project (12) (1).png" />
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link rel="stylesheet" href="style.css" />
<link
  href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
  rel="stylesheet"
/>
<meta name="mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<meta name="apple-mobile-web-app-title" content="CW1 Assets" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
/>
<meta name="theme-color" content="#131212" />
</head>

<body>
  <div class="gameLaunch">
    <img
      src="/content/logo.png"
      class="animated-image"
      width="20%"
      alt="CW1"
    />
  </div>
 
  <div class="iframe-container">
    <iframe id="gameFrame"  title="App" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
    </iframe>
  </div>


  <script>
    // Function to get the value of a cookie
    function getCookie(name) {
      const match = document.cookie.match(
        new RegExp('(^| )' + name + '=([^;]+)')
      );
      if (match) return decodeURIComponent(match[2]);
      return null;
    }
  
    // When the window has loaded, perform actions
    window.onload = function () {
      const lastGame = getCookie('lastGame');
      const iframe = document.getElementById('gameFrame');
      const container = document.querySelector('.iframe-container'); // Fix here: Use querySelector for classes
  
      // If we have a last game, set up the iframe URL based on the cookie
      if (lastGame) {
        setTimeout(function () {
          let gameUrl = 'main'; // Default URL if no matching game is found
  
          // Switch based on the last game stored in the cookie
          switch (lastGame) {
            case 'Eaglercraft':
              gameUrl = '/assets/mc.html';
              break;
            case 'cattle':
              gameUrl = '/assets/sheep.html';
              break;
            case 'frlgnds':
              gameUrl = '/assets/legends.html';
              break;
            case 'egg':
              gameUrl = '/assets/drive.html';
              break;
            case 'cxpro': // Fixed position of the 'cxpro' case
              gameUrl = '/assets/cxpro.html';
              break;
            case 'eagler':
              gameUrl = '/assets/eagle.html';
              break;
            case 'poker':
              gameUrl = '/assets/poke.html';
              break;
            case 'dta':
              gameUrl = '/assets/dta.html'
              break;
            default:
              gameUrl = '/error.html'; // Default error URL if no match
              break;
          }
  
          // Set the iframe source to the appropriate game URL
          iframe.src = gameUrl;
  
        }, 3000); // 3-second delay (adjust as needed)
      }
    };
  
    // Optional: Empty keydown event listener (remove if unnecessary)
    document.addEventListener('keydown', function (event) {
      // Placeholder for keydown actions (if needed)
    });
  </script>
  
</body>
</html>
